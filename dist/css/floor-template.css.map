{"version":3,"file":"css/floor-template.css","mappings":";;;AAAA;;;;EAAA;ACAA;EAsDI;AD/CJ;ACNI;EACI;EACA;ADQR;ACLI;EACI;EACA;EACA;EACA;ADOR;ACJI;EACI;EACA;EACA;ADMR;ACHI;EACI;EACA;EACA;EACA;EACA;ADKR;ACFI;EACI;EACA;ADIR;ACDI;EACI;EACA;EACA;EACA;ADGR;ACAI;EACI;EACA;ADER;ACCI;EACI;EACA;EACA;ADCR;ACEI;EACI;ADAR;ACKI;EACI;EACA;EACA;EACA;EACA;ADHR;ACMI;EACI;EACA;EACA;ADJR;ACOI;EACI;EACA;EACA;EACA;ADLR;ACQI;EACI;EACA;EACA;ADNR;ACSI;EACI;EACA;EACA;ADPR;ACUI;EACI;EACA;EACA;EACA;EACA;EACA;ADRR;ACWI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;ADTR;ACYI;EACI;ADVR;ACaI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;ADXR;ACcI;EACI;ADZR;ACeI;EACI;EACA;EACA;EACA;EACA;EAGA;ADfR;ACkBI;EACI;ADhBR;ACmBI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;ADjBR;ACwBI;EACI;EACA;EACA;KAAA;EACA;ADtBR;ACyBI;EACI;ADvBR;AC0BI;EACI;EACA;EACA;ADxBR;AC2BI;EACI;EACA;EACA;ADzBR;AC4BI;EACI;EACA;AD1BR;AC6BI;EACI;EACA;EACA;AD3BR;AC8BI;EACI;EACA;EACA;EACA;EACA;AD5BR;;ACqDA;EACI;EACA;EACA;EAEA;EACA;EAMA;EAOA;EAKA;ADlEJ;ACkDI;EACI;ADhDR;ACoDI;EACI;EACA;EACA;ADlDR;ACsDI;EACI;ADpDR;ACwDI;EACI;EACA;EACA;EACA;EACA;EACA;ADtDR;;AC0DA;AACA;EACI;EAkBA;EAoCA;EA+BA;EAqCA;EAQA;ADpLJ;ACmDI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;ADjDR;ACqDI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;ADnDR;ACqDQ;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;ADnDZ;ACsDQ;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;ADpDZ;ACyDI;EACI;EACA;EACA;EAGA;EACA;EACA;EACA;EACA;ADzDR;AC2DQ;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EAOA;AD/DZ;ACoEI;EACI;EACA;EACA;EAMA;EACA;EACA;EACA;EACA;ADvER;ACyEQ;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EAOA;EACA;EACA;EACA;AD7EZ;ACkFI;EACI;EACA;EACA;KAAA;EACA;ADhFR;ACoFI;EACI;EAEA;ADnFR;ACoFQ;EACI;EACA;EACA;ADlFZ;;ACuFA;AACA;EACI;IACI;EDpFN;ECsFE;IACI;EDpFN;AACF;ACuFA;EACI;IACI;EDrFN;ECuFE;IACI;EDrFN;AACF;ACwFA;EACI;IACI;EDtFN;ECwFE;IACI;EDtFN;AACF;ACyFA;AACA;EA4BI;ADlHJ;ACuFI;EAWI;EAKA;EACA;EACA;EAEA;ADpGR;ACiFQ;EACI;EACA;AD/EZ;ACkFQ;EACI;EACA;ADhFZ;ACoFQ;EACI;ADlFZ;AC0FQ;EACI;EACA;ADxFZ;AC6FI;EACI;AD3FR;;AC+FA;AACA;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AD5FJ;AC8FI;EACI;EACA;EACA;AD5FR;AC+FI;EACI;EACA;EACA;AD7FR;ACgGI;EACI;EACA;EACA;AD9FR;ACiGI;EACI;EACA;EACA;AD/FR;;ACmGA;AACA;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;ADhGJ;ACkGI;EACI;EACA;ADhGR;ACmGI;EACI;EACA;EACA;EACA;EACA;EACA;ADjGR;ACoGI;EACI;EACA;ADlGR;ACoGQ;EACI;ADlGZ;ACsGI;EACI;EACA;ADpGR;ACsGQ;EACI;ADpGZ;;AE9bA;;;;;EAAA;AAOA;EAAA;AAEC;EACG;IAAO;EFicT;EEhcE;IAAO;EFmcT,EEnc0C;AFoc5C;AEjcA;EACI;IAAO;EFocT;EEncE;IAAO;EFscT,EEtcyC;AFuc3C;AEpcA;EAAA;AAEA;EAEI;EAgBA;EASA;EAaA;EA2CA;EAaA;EA4EA;AFiSJ;AE1cI;EACI;EACA;EACA;AF4cR;AEzcI;;EAEI;EACA;EACA;EACA;EACA;AF2cR;AEvcI;EACI;EACA;EACA;EACA;EACA;AFycR;AErcI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AFucR;AEncI;EACI;EACA;EACA;EACA;EACA;AFqcR;AElcI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;AFocR;AEjcI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AFmcR;AEhcI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;AFkcR;AE9bI;EACI;EACA;EACA;EACC;EACA;EACD;EACA;EACA;EACA;AFgcR;AE5bI;EACI;EACA;EACA;EACA;EACA;EACA;AF8bR;AE3bI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AF6bR;AE1bI;EACG;EACA;EACA;EACA;EACA;EACA;AF4bP;AEzbI;EACI;EACA;EACA;EACA;AF2bR;AExbI;EACI;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AF0bR;AEvbI;EACI;EACA;EACA;AFybR;AEtbI;EACI;EACA;EACA;EACA;AFwbR;AErbI;EACI;EACA;EACA;EACA;EACA;EACA;AFubR;;AEpbE;AAGF;EAAA;AAEA;EACI;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;AFobJ;;AEjbA;AACA;EACI;EACA;EACA;AFobJ;;AEjbA;AACA;EACI;EACA;EACA;AFobJ;;AA1oBA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;AA4oBF;;AAzoBA;AAUA;;;6DAAA;AAIA;;;EAGE;EACA;EACA;EACA;EACA;EACA;EACA;AAmoBF;;AAhoBA;;;EAGE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAmoBF;;AA/nBA;EACE;AAkoBF;;AA9nBA;;;EAGE;AAioBF;;AA7nBA;;6DAAA;AAIA;;;;;;;;;;;;;;;;;;;;;;;EAuBE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA+nBF;;AA5nBA;AACA;;;;;;;;;EASE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA+nBF;;AA5nBA;;;6DAAA;AAIA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA+nBF;;AA5nBA;;;6DAAA;AAIA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA+nBF;;AA5nBA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;KAAA;EACA;EACA;KAAA;EACA;AA+nBF;;AA5nBA;EAEE;AA8nBF;AA7nBE;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA+nBJ;;AA3nBA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA8nBF;;AA3nBA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA8nBF;;AAznBA;;6DAAA;AAGA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA4nBF;;AAznBA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;AA2nBF;;AAxnBA;AACA;EACE;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;AAsnBF;;AAnnBA;AACA;EACE;EACA;AAsnBF;;AAnnBA;AACA;EACE;EACA;EACA;EACA;EACA;EACA;AAsnBF;;AAnnBA;AACA;EACE;EACA;AAsnBF;;AAnnBA;AACA;EACE;AAsnBF;;AA/mBA;;;6DAAA;AAIA;EAEE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAinBF;AA/mBE;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAinBJ;;AA7mBA;EAEE;EACA;EACA;EACA;EACA;EACA;AA+mBF;;AA5mBA;EACE;EACA;EACA;EACA;EACA;EACA;EACA,UA5WgB;EA6WhB,gBA5WoB;EA6WpB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA+mBF;;AA5mBA;AACA;EACE;EACA;AA+mBF;;AA5mBA;EACE;EACA;AA+mBF;;AA3mBA;EACE;EACA;AA8mBF;;AA3mBA;EACE;AA8mBF;;AA3mBA;EAEE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA6mBF;AA1mBE;;;;;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;AA4mBJ;AAzmBE;;;;;;EAME;EACA;EACA;AA2mBJ;AAxmBE;EACE;EACA;AA0mBJ;AAxmBI;EACE;AA0mBN;AAtmBE;;EAEE;AAwmBJ;AArmBE;;EAEE;AAumBJ;;AAlmBA;EACE;AAqmBF;;AAlmBA;EACE;AAqmBF;;AAlmBA;EACE;EACA;AAqmBF;;AAlmBA;EACE;AAqmBF;;AAjmBA;;6DAAA;AAGA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAomBF;AAlmBE;;EAGE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAmmBJ;AAjmBI;;EACE;AAomBN;AAhmBE;EACE;AAkmBJ;AA/lBE;;;;EAIE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAimBJ;AA9lBE;EAGE;EACA;EACA;EACA;AA8lBJ;AA3lBI;;EAEE;AA6lBN;;AAvlBA;EACE;EACA;AA0lBF;;AAtlBA;EAEE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAwlBF;;AArlBA;EAEE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAulBF;;AAplBA;;EAGE;EACA;AAslBF;;AAllBA;;6DAAA;AAIA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EAEA,uCAzmBW;EA0mBX;EAEA;EACA;EACA;EACA;AAilBF;AA9kBE;EACE;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AA+kBJ;AA7kBI;EACE;EACA;AA+kBN;AAjlBI;EACE;EACA;AA+kBN;AA5kBI;EACE;EACA;EACA;EACA;AA8kBN;AA1kBE;EACE;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;AA0kBJ;AAtkBI;EACE;EACA;AAwkBN;;AAjkBA;;;6DAAA;AAIA;EACE;IACE;IACA;IACA;EAokBF;EAjkBA;IACE;EAmkBF;EAjkBE;IACE;EAmkBJ;EA/jBA;IACE,aA/rBe;IAgsBf;EAikBF;AACF;AA5jBA;EACE;IACE;IACA;IACA;EA8jBF;EA3jBA;IACE;EA6jBF;EA3jBE;IACE;EA6jBJ;EAzjBA;IACE;IACA;EA2jBF;EAvjBA;IACE;IACA;EAyjBF;EAvjBE;IACE;IACA;EAyjBJ;AACF;AArjBA;AACA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAujBF;AArjBE;EACE;AAujBJ;;AAnjBA;;;EAGE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAsjBF;;AAnjBA;;EAEE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAsjBF;;AA/iBA;;6DAAA;AAIA;EAEE;AAgjBF;AA9iBE;EACE;AAgjBJ;AA7iBE;EAEE;EACA;EACA;EACA;EACA;EACA;EACA;AA8iBJ;AA5iBI;EACE;AA8iBN;AA1iBE;EACE;EACA;EACA;AA4iBJ;AA1iBI;EACE;AA4iBN;AAziBI;EACE;AA2iBN;;AAtiBA;EACE;AAyiBF;;AAniBA;;6DAAA;AAIA;AACA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAqiBF;;AAliBA;AACA;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAqiBF;;AAliBA;AACA;EACE;EACA;AAqiBF;;AAliBA;AACA;EACE;EACA;EACA;AAqiBF;;AAliBA;EACE;EACA;EACA;AAqiBF;;AAliBA;EACE;EACA;EACA;AAqiBF;;AAliBA;EACE;EACA;EACA;AAqiBF;;AAliBA;AACA;EACE;AAqiBF;;AAliBA;AACA;EACE;EACA;AAqiBF;;AAliBA;AACA;;EAEE;AAqiBF;;AAliBA;;EAEE;AAqiBF;;AAliBA;AACA;EACE;AAqiBF,C","sources":["webpack://spiral-tower/./src/scss/floor-template.scss","webpack://spiral-tower/./src/scss/portal.scss","webpack://spiral-tower/./src/scss/stairs.scss"],"sourcesContent":["/**\r\n * Styles for the Floor Template - v5 (Back to Basics - Scaled Wrapper)\r\n * Merged from original and updated for the scaling wrapper approach.\r\n * Positioning for .floor-gizmo relies on inline styles (left%, top%) in HTML.\r\n */\r\n\r\n@use 'portal'; // Assuming these are valid SASS module imports\r\n@use 'stairs'; // Assuming these are valid SASS module imports\r\n\r\n:root {\r\n  /* Default colors (fallbacks) - Keep these */\r\n  --background-color: #000;\r\n  --title-bg-color: rgba(20, 20, 20, 0.85);\r\n  --content-bg-color: rgba(35, 35, 35, 0.85);\r\n  --title-text-color: #fff;\r\n  --content-text-color: #e6e6e6;\r\n  --subtitle-color: #e90303;\r\n\r\n  --title-font: 'Metamorphous', serif;\r\n  --body-font: 'Winky Sans', sans-serif;\r\n}\r\n\r\n/* Variables - non-color styles remain the same */\r\n$border-radius: 15px;\r\n$box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n$container-width: 80%;\r\n$container-max-width: 800px;\r\n$padding-standard: 20px;\r\n$padding-large: 30px;\r\n$margin-standard: 30px;\r\n$margin-large: 80px;\r\n\r\n/* --------------------------------------------------------\r\n * 1. FULL VIEWPORT & RESET\r\n * Ensures html/body fill viewport without scrollbars.\r\n * -------------------------------------------------------- */\r\nhtml,\r\nhtml.floor-template-active,\r\nhtml.floor-fullscreen {\r\n  height: 100% !important;\r\n  min-height: 100% !important;\r\n  margin: 0 !important;\r\n  padding: 0 !important;\r\n  overflow: hidden !important;\r\n  /* Prevent scrollbars */\r\n  box-sizing: border-box !important;\r\n}\r\n\r\nbody,\r\nbody.floor-template-active,\r\nbody.floor-fullscreen {\r\n  margin: 0 !important;\r\n  padding: 0 !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  min-height: 100vh !important;\r\n  overflow: auto;\r\n  /* Prevent scrollbars */\r\n  background: var(--background-color) !important; // Use variable, or fallback\r\n  max-width: 100% !important;\r\n  font-family: var(--body-font) !important;\r\n  box-sizing: border-box !important;\r\n}\r\n\r\n\r\nbody.single-floor {\r\n  overflow: hidden !important;\r\n}\r\n\r\n\r\n*,\r\n*::before,\r\n*::after {\r\n  box-sizing: inherit;\r\n}\r\n\r\n\r\n/* --------------------------------------------------------\r\n * 2. HIDE WORDPRESS ELEMENTS (Keep from Original)\r\n * -------------------------------------------------------- */\r\n// Assuming your original rules here were correct for hiding theme elements\r\n#wpadminbar,\r\n.admin-bar #wpadminbar,\r\nnav,\r\n#site-navigation,\r\n.main-navigation,\r\n.menu,\r\n.menu-toggle,\r\n.site-header,\r\n.site-header-menu,\r\n.site-branding,\r\n#masthead,\r\n.nav-menu,\r\n.top-bar,\r\n.navigation-top,\r\n.primary-navigation,\r\n.navigation,\r\n.main-header,\r\n.header,\r\n#header,\r\n.site-footer,\r\n#colophon,\r\n.footer,\r\nfooter {\r\n  display: none !important;\r\n  visibility: hidden !important;\r\n  opacity: 0 !important;\r\n  height: 0 !important;\r\n  width: 0 !important;\r\n  margin: 0 !important;\r\n  padding: 0 !important;\r\n  border: 0 !important;\r\n}\r\n\r\n/* Hide common theme containers (Keep from Original) */\r\nbody #page,\r\nbody #content,\r\nbody .site,\r\nbody .site-content,\r\nbody .content-area,\r\nbody #wrapper,\r\nbody #main,\r\nbody .content-wrapper,\r\nbody .container {\r\n  background: transparent !important;\r\n  padding: 0 !important;\r\n  margin: 0 !important;\r\n  max-width: 100% !important;\r\n  width: 100% !important;\r\n  display: block !important; // Allow our content inside them if necessary\r\n  border: 0 !important;\r\n  box-shadow: none !important;\r\n}\r\n\r\n/* --------------------------------------------------------\r\n * 3. WRAPPER (SCALED VIA JS)\r\n * Positioned fixed, centered, scaled by JS transform.\r\n * -------------------------------------------------------- */\r\n.spiral-tower-floor-wrapper {\r\n  position: fixed !important;\r\n  /* top: 50%, left: 50% are set dynamically by JS */\r\n  /* width, height are set dynamically by JS to content's natural size */\r\n  /* transform: translate(-50%, -50%) scale(N) is set dynamically by JS */\r\n  transform-origin: center center !important;\r\n  /* ESSENTIAL for scaling */\r\n  overflow: hidden !important;\r\n  /* ESSENTIAL */\r\n  z-index: 1 !important;\r\n  visibility: hidden;\r\n  /* Hide until JS positions and shows it */\r\n  margin: 0 !important;\r\n  padding: 0 !important;\r\n  /* outline: 3px solid cyan !important; */\r\n  /* DEBUG */\r\n}\r\n\r\n/* --------------------------------------------------------\r\n * 4. BACKGROUND CONTENT (Image/Video)\r\n * Fills the wrapper using absolute positioning.\r\n * -------------------------------------------------------- */\r\n.background-container {\r\n  /* General container for bg elements */\r\n  position: absolute !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  /* Fill parent wrapper */\r\n  height: 100% !important;\r\n  /* Fill parent wrapper */\r\n  overflow: hidden !important;\r\n  z-index: 1 !important;\r\n  /* Below gizmo container */\r\n}\r\n\r\n#background-image {\r\n  /* The actual <img> element */\r\n  display: block !important;\r\n  position: absolute !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  /* Fill background-container */\r\n  height: 100% !important;\r\n  /* Fill background-container */\r\n  object-fit: initial !important;\r\n  /* Do not use object-fit, parent scaling handles it */\r\n  object-position: initial !important;\r\n  transform: none !important;\r\n}\r\n\r\n#youtube-background {\r\n\r\n  /* Container specific to YouTube */\r\n  &.audio-only {\r\n    /* Keep original audio-only hiding styles */\r\n    position: absolute !important;\r\n    width: 1px !important;\r\n    height: 1px !important;\r\n    top: -9999px !important;\r\n    left: -9999px !important;\r\n    opacity: 0 !important;\r\n    visibility: hidden !important;\r\n    overflow: hidden !important;\r\n    pointer-events: none !important;\r\n  }\r\n}\r\n\r\n.youtube-container {\r\n  /* Inner container if needed for aspect ratio */\r\n  position: absolute !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  /* Fill parent #youtube-background */\r\n  height: 100% !important;\r\n  /* Fill parent #youtube-background */\r\n  overflow: hidden !important;\r\n}\r\n\r\n#youtube-player {\r\n  /* The actual <iframe> */\r\n  display: block !important;\r\n  position: absolute !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  /* Fill youtube-container */\r\n  height: 100% !important;\r\n  /* Fill youtube-container */\r\n  border: none !important;\r\n  transform: none !important;\r\n  // Remove old aspect ratio / min-width/height rules relying on viewport units\r\n}\r\n\r\n\r\n/* --------------------------------------------------------\r\n * 5. GIZMOS CONTAINER & GIZMOS (v5 - CSS Positioning)\r\n * -------------------------------------------------------- */\r\n.wrapper-floor-gizmos {\r\n  /* Container INSIDE the scaled wrapper */\r\n  position: absolute !important;\r\n  /* CRUCIAL: Relative to scaled wrapper */\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  /* CRUCIAL: Spans the wrapper's current size */\r\n  height: 100% !important;\r\n  /* CRUCIAL: Spans the wrapper's current size */\r\n  pointer-events: none !important;\r\n  /* Allow clicks through to background */\r\n  z-index: 10 !important;\r\n  /* Above background, below UI */\r\n}\r\n\r\n.floor-gizmo {\r\n  /* Individual Gizmo */\r\n  position: absolute !important;\r\n  /* CRUCIAL: Relative to wrapper-floor-gizmos */\r\n  /* top: % and left: % MUST be set via inline style in HTML template */\r\n  transform: translate(-50%, -50%);\r\n  /* Centers the gizmo element on its coordinate point */\r\n  transform-origin: center center;\r\n  pointer-events: auto !important;\r\n  /* Make gizmo clickable */\r\n  z-index: 11 !important;\r\n  /* Above gizmo container */\r\n  cursor: pointer !important;\r\n\r\n  /* --- Base Visual Style (Customize as needed) --- */\r\n  transition: transform 0.2s ease;\r\n  /* Smooth hover effect */\r\n}\r\n\r\n/* Override the problematic rule that's emptying tooltip content */\r\n.floor-gizmo.tooltip-trigger::after {\r\n  /* Re-establish the tooltip content from the data-tooltip attribute */\r\n  content: attr(data-tooltip) !important;\r\n\r\n  /* Position in center */\r\n  bottom: auto !important;\r\n  top: 50% !important;\r\n  left: 50% !important;\r\n  transform: translate(-50%, -50%) !important;\r\n\r\n  /* Make it visible and well-styled */\r\n  background-color: rgba(0, 0, 0, 0.85) !important;\r\n  color: #fff !important;\r\n  font-weight: bold !important;\r\n  padding: 6px 12px !important;\r\n  border-radius: 4px !important;\r\n  white-space: nowrap !important;\r\n\r\n  /* Control visibility */\r\n  opacity: 0 !important;\r\n  /* Start hidden */\r\n  visibility: hidden !important;\r\n  transition: opacity 0.3s ease, visibility 0.3s ease !important;\r\n\r\n  /* Ensure it's on top */\r\n  z-index: 10000 !important;\r\n\r\n  /* Allow clicks to pass through */\r\n  pointer-events: none !important;\r\n}\r\n\r\n/* Ensure proper pointer-events behavior */\r\n.floor-gizmo.tooltip-trigger {\r\n  pointer-events: auto !important;\r\n  /* Allow clicking on the gizmo */\r\n}\r\n\r\n/* Make sure the link takes up the full gizmo area */\r\n.floor-gizmo.tooltip-trigger a.spiral-tower-portal-link {\r\n  display: block !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  position: relative !important;\r\n  z-index: 1 !important;\r\n  /* Should be lower than the tooltip z-index */\r\n}\r\n\r\n/* Show on hover */\r\n.floor-gizmo.tooltip-trigger:hover::after {\r\n  opacity: 1 !important;\r\n  visibility: visible !important;\r\n}\r\n\r\n/* Hide the tooltip arrow */\r\n.floor-gizmo.tooltip-trigger::before {\r\n  display: none !important;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* --------------------------------------------------------\r\n * 6. UI ELEMENTS (Title, Content, Toolbar)\r\n * These stay fixed relative to the viewport.\r\n * -------------------------------------------------------- */\r\n.spiral-tower-floor-title {\r\n  // Keep original styles but ensure position: fixed and high z-index\r\n  position: fixed !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  z-index: 1001 !important; // Above gizmos and wrapper\r\n  margin: 0 !important;\r\n  border-radius: 0 !important;\r\n  background-color: var(--title-bg-color, rgba(20, 20, 20, 0.85)) !important;\r\n  padding: $padding-standard !important;\r\n  box-shadow: $box-shadow !important;\r\n  box-sizing: border-box !important;\r\n  cursor: pointer !important;\r\n  /* Indicate it's clickable */\r\n  will-change: transform, opacity;\r\n  /* Optimize for animations */\r\n  transform: translateX(0);\r\n\r\n  h1 {\r\n    margin: 0 !important;\r\n    padding: 0 !important;\r\n    font-size: 1.5em !important; // Adjust as needed\r\n    color: var(--title-text-color, #fff) !important;\r\n    font-weight: bold !important;\r\n    line-height: 1.2 !important;\r\n    font-family: var(--title-font, 'Metamorphous', serif) !important;\r\n    letter-spacing: -0.5px;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n.spiral-tower-floor-number {\r\n  // Keep original styles\r\n  font-size: 0.8em !important;\r\n  margin-bottom: 6px !important;\r\n  font-weight: bold !important;\r\n  color: var(--subtitle-color, #e90303) !important;\r\n  font-family: var(--title-font) !important;\r\n  text-align: center;\r\n}\r\n\r\n.spiral-tower-floor-container {\r\n  position: relative; // <– This is the missing piece most of the time\r\n  z-index: 2;\r\n  position: fixed;\r\n  top: 50%; // Centered vertically\r\n  left: 50%; // Centered horizontally\r\n  transform: translate(-50%, -50%); // Actual centering\r\n  width: $container-width;\r\n  max-width: $container-max-width;\r\n  z-index: 1000; // Above wrapper/gizmos, potentially below title if desired\r\n  box-sizing: border-box !important;\r\n  opacity: 0;\r\n  /* Start with opacity 0 */\r\n  transition: opacity 0.5s ease !important;\r\n  /* Keep your transition */\r\n  margin-top: 60px;\r\n  max-height: calc(80vh - 100px);\r\n  overflow-y: auto;\r\n}\r\n\r\n/* Hide content toggle button when text-only mode is active */\r\n#button-content-toggle.hidden-by-text-mode {\r\n  display: none !important;\r\n  /* Use !important if necessary to override other display rules */\r\n}\r\n\r\n.spiral-tower-floor-container.content-hidden {\r\n  opacity: 0;\r\n  visibility: hidden !important; \r\n  // wtf?\r\n}\r\n\r\n.spiral-tower-floor-container.content-visible {\r\n  opacity: 1;\r\n  visibility: visible !important;\r\n}\r\n\r\nbody.text-only-mode .spiral-tower-floor-container {\r\n  opacity: 1 !important;\r\n}\r\n\r\n.spiral-tower-floor-content {\r\n  // Keep original styles for content box appearance\r\n  background-color: var(--content-bg-color, rgba(35, 35, 35, 0.85)) !important;\r\n  padding: $padding-large !important;\r\n  border-radius: $border-radius !important;\r\n  box-shadow: $box-shadow !important;\r\n  box-sizing: border-box !important;\r\n  color: var(--content-text-color, #e6e6e6) !important;\r\n  position: relative !important;\r\n  max-height: 100%;\r\n  /* Fill the container's max-height */\r\n  overflow-y: auto;\r\n  /* Enable scrolling if content exceeds max-height */\r\n  font-family: var(--body-font) !important;\r\n\r\n  // Keep original styles for elements inside content\r\n  p,\r\n  ul,\r\n  ol,\r\n  li,\r\n  blockquote {\r\n    color: var(--content-text-color, #e6e6e6) !important;\r\n    max-width: 100% !important;\r\n    display: block !important;\r\n    box-sizing: border-box !important;\r\n    letter-spacing: -0.5px;\r\n    font-size: 1.8rem; // Adjust base font size\r\n    line-height: 1.6;\r\n  }\r\n\r\n  h1,\r\n  h2,\r\n  h3,\r\n  h4,\r\n  h5,\r\n  h6 {\r\n    color: var(--title-text-color, #fff) !important;\r\n    font-family: var(--title-font) !important;\r\n    margin: 1.5em 0 0.5em;\r\n  }\r\n\r\n  a {\r\n    color: var(--subtitle-color, #e90303) !important;\r\n    text-decoration: none !important;\r\n\r\n    &:hover {\r\n      text-decoration: underline !important;\r\n    }\r\n  }\r\n\r\n  strong,\r\n  b {\r\n    font-weight: bold;\r\n  }\r\n\r\n  em,\r\n  i {\r\n    font-style: italic;\r\n  }\r\n}\r\n\r\n// Keep scrollbar styles (adjust colors maybe)\r\n.spiral-tower-floor-content::-webkit-scrollbar {\r\n  width: 10px !important;\r\n}\r\n\r\n.spiral-tower-floor-content::-webkit-scrollbar-track {\r\n  background: rgba(0, 0, 0, 0.3) !important;\r\n}\r\n\r\n.spiral-tower-floor-content::-webkit-scrollbar-thumb {\r\n  background-color: var(--subtitle-color, #e90303) !important;\r\n  border-radius: 5px;\r\n}\r\n\r\n.spiral-tower-floor-content::-webkit-scrollbar-thumb:hover {\r\n  background-color: rgba(233, 3, 3, 0.8) !important;\r\n}\r\n\r\n\r\n/* --------------------------------------------------------\r\n * 7. TOOLBAR & TOOLTIPS \r\n * -------------------------------------------------------- */\r\n#toolbar {\r\n  display: flex;\r\n  position: fixed;\r\n  bottom: 15px;\r\n  right: 75px;\r\n  z-index: 9999 !important;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  overflow: visible;\r\n  opacity: 0.8;\r\n\r\n  >a,\r\n  >div {\r\n    // Direct children buttons\r\n    display: flex; // Use flex for centering icon\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 40px; // Adjust size\r\n    height: 40px; // Adjust size\r\n    padding: 5px;\r\n    cursor: pointer;\r\n    border-left: 1px solid rgba(255, 255, 255, 0.2);\r\n    transition: background-color 0.2s ease;\r\n    padding: 8px;\r\n\r\n    &:first-child {\r\n      border-left: none;\r\n    }\r\n  }\r\n\r\n  #toolbar>div.tooltip-trigger:hover {\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n  }\r\n\r\n  #toolbar>a img,\r\n  #toolbar>a svg,\r\n  #toolbar>div img,\r\n  #toolbar>div svg {\r\n    width: 100%;\r\n    height: 100%;\r\n    max-width: 70%;\r\n    max-height: 70%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: auto;\r\n    fill: white;\r\n    opacity: 0.8;\r\n    pointer-events: none;\r\n  }\r\n\r\n  #button-sound-toggle {\r\n    // Keep original logic for showing/hiding via JS\r\n    // Start hidden - JS will show it when player is ready\r\n    display: none; // JS should change this to flex or block\r\n    opacity: 0; // JS might fade this in\r\n    visibility: hidden;\r\n    transition: opacity 0.3s ease;\r\n\r\n    // Keep SVG styles for volume on/off\r\n    #volume-off-icon,\r\n    #volume-on-icon {\r\n      /* ... svg styles ... */\r\n    }\r\n  }\r\n}\r\n\r\n// Tooltip Styles \r\n.tooltip-trigger {\r\n  position: relative;\r\n  cursor: help;\r\n  // Optional indicator: border-bottom: 1px dotted black;\r\n}\r\n\r\n.tooltip-trigger::after {\r\n  // The tooltip box\r\n  content: attr(data-tooltip);\r\n  position: absolute;\r\n  bottom: 110%; // Position above\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  margin-bottom: 5px;\r\n  background-color: #333;\r\n  color: #fff;\r\n  padding: 5px 10px;\r\n  border-radius: 4px;\r\n  font-size: 0.9em;\r\n  font-family: var(--body-font);\r\n  white-space: nowrap;\r\n  opacity: 0; // Hidden by default\r\n  visibility: hidden;\r\n  transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;\r\n  z-index: 10000; // Above everything\r\n}\r\n\r\n.tooltip-trigger::before {\r\n  // The tooltip arrow\r\n  content: '';\r\n  position: absolute;\r\n  bottom: 110%; // Position with tooltip box\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  margin-bottom: 0px; // Position just below the box edge\r\n  border-width: 5px;\r\n  border-style: solid;\r\n  border-color: #333 transparent transparent transparent; // Arrow pointing down\r\n  opacity: 0; // Hidden by default\r\n  visibility: hidden;\r\n  transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;\r\n  z-index: 10001; // Above tooltip box\r\n}\r\n\r\n.tooltip-trigger:hover::after,\r\n.tooltip-trigger:hover::before {\r\n  // Show on hover\r\n  opacity: 1;\r\n  visibility: visible;\r\n}\r\n\r\n\r\n/* --------------------------------------------------------\r\n * 7b. TOOLBAR SEARCH EXTENSION \r\n * -------------------------------------------------------- */\r\n\r\n#toolbar-search-form {\r\n  /* --- Positioning & Size --- */\r\n  position: fixed;\r\n  bottom: 60px;\r\n  right: 75px;\r\n  width: 10vw;\r\n  min-width: 200px;\r\n  max-width: 300px;\r\n\r\n  /* --- Appearance --- */\r\n  background-color: transparent;\r\n  // border-radius: removed\r\n  box-shadow: $box-shadow; // Use theme variable or fallback\r\n  z-index: 10000;\r\n\r\n  /* --- Flex Layout for Input/Button --- */\r\n  display: flex;\r\n  align-items: stretch; // Make items fill height\r\n  flex-wrap: nowrap; // << ADDED: Ensure items stay on one line\r\n\r\n\r\n  input[type=\"text\"] {\r\n    /* --- Sizing & Layout --- */\r\n    flex-grow: 1;\r\n    flex-shrink: 1;\r\n    width: auto; \r\n    height: 32px;\r\n    box-sizing: border-box;\r\n\r\n    /* --- Appearance (including darker bg and placeholder from previous step) --- */\r\n    padding: 6px 10px;\r\n    border: 1px solid rgba(255, 255, 255, 0.3);\r\n    border-right: none;\r\n    background-color: rgba(0, 0, 0, 0.7); // Darker background\r\n    color: #ddd;\r\n    font-family: var(--body-font);\r\n    font-size: 0.9em;\r\n\r\n    &::placeholder {\r\n      color: #bbb; // Lighter placeholder\r\n      opacity: 1;\r\n    }\r\n\r\n    &:focus {\r\n      outline: none;\r\n      border-color: var(--subtitle-color, #e90303);\r\n      position: relative;\r\n      z-index: 1;\r\n    }\r\n  }\r\n\r\n  button {\r\n    /* --- Sizing & Layout --- */\r\n    flex-shrink: 0;\r\n    flex-grow: 0;\r\n    height: 32px;\r\n    box-sizing: border-box;\r\n\r\n    /* --- Appearance --- */\r\n    padding: 0 12px;\r\n    background-color: rgba(85, 85, 85, 0.9);\r\n    color: #fff;\r\n    border: 1px solid rgba(119, 119, 119, 0.8);\r\n    // border-radius: removed\r\n    cursor: pointer;\r\n    font-family: var(--body-font);\r\n    font-size: 0.9em;\r\n    white-space: nowrap;\r\n    line-height: 30px;\r\n\r\n    // Hover effect removed previously\r\n\r\n    &:disabled {\r\n      opacity: 0.6;\r\n      cursor: default;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n/* --------------------------------------------------------\r\n * 8. RESPONSIVE ADJUSTMENTS (Keep/Adjust from Original)\r\n * Adjust padding, font sizes, container widths for smaller screens.\r\n * -------------------------------------------------------- */\r\n@media (max-width: 768px) {\r\n  .spiral-tower-floor-container {\r\n    width: 90%;\r\n    margin-top: 50px; // Adjust offset based on title height\r\n    max-height: calc(85vh - 80px);\r\n  }\r\n\r\n  .spiral-tower-floor-title {\r\n    padding: 15px;\r\n\r\n    h1 {\r\n      font-size: 1.3em;\r\n    }\r\n  }\r\n\r\n  .spiral-tower-floor-content {\r\n    padding: $padding-standard;\r\n    font-size: 1.1rem; // Adjust content font size\r\n  }\r\n\r\n  // Adjust toolbar position if needed\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .spiral-tower-floor-container {\r\n    width: 95%;\r\n    margin-top: 45px;\r\n    max-height: calc(80vh - 70px);\r\n  }\r\n\r\n  .spiral-tower-floor-title {\r\n    padding: 12px;\r\n\r\n    h1 {\r\n      font-size: 1.2em;\r\n    }\r\n  }\r\n\r\n  .spiral-tower-floor-content {\r\n    font-size: 1rem; // Adjust content font size\r\n    padding: 15px;\r\n  }\r\n\r\n  // Adjust toolbar position/size if needed\r\n  #toolbar {\r\n    bottom: 10px;\r\n    right: 10px;\r\n\r\n    >div {\r\n      width: 35px;\r\n      height: 35px;\r\n    }\r\n  }\r\n}\r\n\r\n/* Ensure these are active */\r\n.spiral-tower-floor-wrapper {\r\n  position: fixed !important;\r\n  transform-origin: center center !important;\r\n  overflow: hidden !important;\r\n  z-index: 1 !important;\r\n  /* Start hidden - JS MUST set visibility: visible */\r\n  visibility: hidden;\r\n  /* JS sets width, height, top, left, transform */\r\n  margin: 0 !important;\r\n  /* Ensure no margin interferes */\r\n  padding: 0 !important;\r\n  /* Ensure no padding interferes */\r\n\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n}\r\n\r\n.background-container,\r\n#image-background,\r\n#youtube-background {\r\n  position: absolute !important;\r\n  pointer-events: none;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  /* Fill wrapper */\r\n  height: 100% !important;\r\n  /* Fill wrapper */\r\n  overflow: hidden !important;\r\n}\r\n\r\n#background-image,\r\n#youtube-player {\r\n  position: absolute !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  /* Fill container */\r\n  height: 100% !important;\r\n  /* Fill container */\r\n  display: block !important;\r\n  border: none !important;\r\n  transform: none !important;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* --------------------------------------------------------\r\n * 8. TEXT ONLY MODE\r\n * -------------------------------------------------------- */\r\n\r\nbody.text-only-mode {\r\n\r\n  overflow: auto !important;\r\n\r\n  .spiral-tower-floor-wrapper {\r\n    display: none !important;\r\n  }\r\n\r\n  .spiral-tower-floor-container {\r\n\r\n    width: auto !important;\r\n    height: auto !important;\r\n    margin: 140px auto 20px auto;\r\n    position: relative !important;\r\n    transform: none;\r\n    top: auto;\r\n    left: auto;\r\n\r\n    .spiral-tower-floor-content {\r\n      max-height: none;\r\n    }\r\n  }\r\n\r\n  .portals-text-only {\r\n    display: block !important;\r\n    margin-top: 40px;\r\n    text-align: center;\r\n\r\n    img {\r\n      display: none;\r\n    }\r\n\r\n    a {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n}\r\n\r\n.portals-text-only {\r\n  display: none !important;\r\n}\r\n\r\n\r\n\r\n\r\n/* --------------------------------------------------------\r\n * 8. SCROLL ARROWS\r\n * -------------------------------------------------------- */\r\n\r\n/* Scroll Arrows - Fixed position at the viewport level, similar to toolbar */\r\n.spiral-tower-scroll-arrows {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none;\r\n  /* Let clicks pass through to the background */\r\n  z-index: 1100;\r\n  /* Above wrapper (z-index: 1) but below fixed UI (z-index: 1001) */\r\n}\r\n\r\n/* Base styles for all arrow buttons */\r\n.scroll-arrow {\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  color: #fff;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease, background-color 0.2s ease;\r\n  pointer-events: auto;\r\n  /* Make arrows clickable */\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n/* The SVG inside the arrow button */\r\n.scroll-arrow svg {\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n/* Position each arrow */\r\n.scroll-up {\r\n  top: 85px;\r\n  right: 15px;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.scroll-right {\r\n  bottom: 0;\r\n  right: 15px;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n.scroll-down {\r\n  bottom: 15px;\r\n  right: 0%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.scroll-left {\r\n  bottom: 0;\r\n  left: 15px;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n/* Visible state for the arrows */\r\n.scroll-arrow.visible {\r\n  opacity: 0.75;\r\n}\r\n\r\n/* Hover and active states */\r\n.scroll-arrow.visible:hover {\r\n  opacity: 1;\r\n  background-color: rgba(30, 30, 30, 0.8);\r\n}\r\n\r\n/* Active states with proper transform preservation */\r\n.scroll-up.visible:active,\r\n.scroll-down.visible:active {\r\n  transform: translateX(-50%) scale(0.95);\r\n}\r\n\r\n.scroll-left.visible:active,\r\n.scroll-right.visible:active {\r\n  transform: translateY(-50%) scale(0.95);\r\n}\r\n\r\n/* Keep arrows hidden in text-only mode */\r\nbody.text-only-mode .spiral-tower-scroll-arrows {\r\n  display: none;\r\n}",".spiral-tower-floor-wrapper {\r\n    .spiral-tower-portals-section {\r\n        margin-top: 30px;\r\n        padding: 20px;\r\n    }\r\n\r\n    .spiral-tower-portals-section h2 {\r\n        margin-top: 0;\r\n        margin-bottom: 20px;\r\n        font-family: var(--title-font);\r\n        font-size: 1.6rem;\r\n    }\r\n\r\n    .spiral-tower-portals-list {\r\n        display: grid;\r\n        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n        gap: 20px;\r\n    }\r\n\r\n    .spiral-tower-portal-item {\r\n        padding: 15px;\r\n        border: 1px solid rgba(255, 255, 255, 0.3);\r\n        border-radius: 8px;\r\n        background-color: rgba(0, 0, 0, 0.2);\r\n        transition: all 0.3s ease;\r\n    }\r\n\r\n    .spiral-tower-portal-item:hover {\r\n        transform: translateY(-5px);\r\n        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n    }\r\n\r\n    .spiral-tower-portal-item h3 {\r\n        margin-top: 0;\r\n        margin-bottom: 10px;\r\n        font-family: var(--title-font);\r\n        font-size: 1.2rem;\r\n    }\r\n\r\n    .spiral-tower-portal-details {\r\n        font-family: var(--body-font);\r\n        font-size: 0.9rem;\r\n    }\r\n\r\n    .spiral-tower-portal-details a {\r\n        color: inherit;\r\n        text-decoration: underline;\r\n        transition: all 0.2s ease;\r\n    }\r\n\r\n    .spiral-tower-portal-details a:hover {\r\n        opacity: 0.8;\r\n    }\r\n\r\n    /* Portal styles for the Spiral Tower */\r\n\r\n    .spiral-tower-portals-wrapper {\r\n        width: 100%;\r\n        font-family: var(--body-font);\r\n        position: fixed;\r\n        bottom: 4px;\r\n        left: 4px;\r\n    }\r\n\r\n    .spiral-tower-portals-title {\r\n        padding: 15px 20px;\r\n        border-top-left-radius: 5px;\r\n        border-top-right-radius: 5px;\r\n    }\r\n\r\n    .spiral-tower-portals-title h2 {\r\n        margin: 0;\r\n        font-family: var(--title-font);\r\n        font-size: 1.8rem;\r\n        letter-spacing: 1px;\r\n    }\r\n\r\n    .spiral-tower-portals-content {\r\n        padding: 25px;\r\n        border-bottom-left-radius: 5px;\r\n        border-bottom-right-radius: 5px;\r\n    }\r\n\r\n    .spiral-tower-portals-grid {\r\n        display: grid;\r\n        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n        gap: 20px;\r\n    }\r\n\r\n    .spiral-tower-portal-card {\r\n        display: flex;\r\n        padding: 15px;\r\n        border-radius: 8px;\r\n        align-items: center;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .portal-icon-TEMP-DISABLED {\r\n        width: 60px;\r\n        height: 60px;\r\n        margin-right: 15px;\r\n        border-radius: 50%;\r\n        flex-shrink: 0;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        background-color: rgba(0, 0, 0, 0.3);\r\n        box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .portal-gateway {\r\n        background: radial-gradient(circle, rgba(55, 145, 255, 1) 0%, rgba(0, 30, 120, 1) 100%);\r\n    }\r\n\r\n    .portal-gateway:after {\r\n        content: '';\r\n        position: absolute;\r\n        width: 40px;\r\n        height: 40px;\r\n        border-radius: 50%;\r\n        border: 3px solid rgba(255, 255, 255, 0.7);\r\n        box-shadow: 0 0 10px rgba(55, 145, 255, 0.8);\r\n        animation: portal-pulse 2s infinite;\r\n    }\r\n\r\n    .portal-vortex {\r\n        background: radial-gradient(circle, rgba(143, 0, 255, 1) 0%, rgba(60, 0, 120, 1) 100%);\r\n    }\r\n\r\n    .portal-vortex:after {\r\n        content: '';\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: conic-gradient(rgba(143, 0, 255, 0),\r\n                rgba(143, 0, 255, 0.8),\r\n                rgba(143, 0, 255, 0));\r\n        animation: portal-spin 3s linear infinite;\r\n    }\r\n\r\n    .portal-door {\r\n        background: radial-gradient(circle, rgba(170, 120, 50, 1) 0%, rgba(90, 60, 30, 1) 100%);\r\n    }\r\n\r\n    .portal-door:after {\r\n        content: '';\r\n        position: absolute;\r\n        width: 30px;\r\n        height: 50px;\r\n        background-color: rgba(0, 0, 0, 0.6);\r\n        border: 2px solid rgba(200, 150, 80, 0.8);\r\n        border-radius: 3px;\r\n    }\r\n\r\n    .portal-invisible {\r\n        // animation: portal-fade 4s infinite alternate;\r\n    }\r\n\r\n    .portal-custom img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    .spiral-tower-portal-info {\r\n        flex-grow: 1;\r\n    }\r\n\r\n    .spiral-tower-portal-title {\r\n        margin: 0 0 5px 0;\r\n        font-family: var(--title-font);\r\n        font-size: 1.3rem;\r\n    }\r\n\r\n    .spiral-tower-portal-type {\r\n        font-size: 0.9rem;\r\n        margin-bottom: 8px;\r\n        opacity: 0.8;\r\n    }\r\n\r\n    .spiral-tower-portal-destination {\r\n        font-size: 0.85rem;\r\n        line-height: 1.4;\r\n    }\r\n\r\n    .spiral-tower-portal-destination span {\r\n        display: block;\r\n        opacity: 0.7;\r\n        margin-bottom: 3px;\r\n    }\r\n\r\n    .spiral-tower-portal-link {\r\n        color: inherit;\r\n        text-decoration: none;\r\n        position: relative;\r\n        padding-bottom: 2px;\r\n        display: inline-block;\r\n    }\r\n\r\n}\r\n\r\n// /* Responsive adjustments */\r\n// @media (max-width: 768px) {\r\n//     .spiral-tower-portals-grid {\r\n//         grid-template-columns: 1fr;\r\n//     }\r\n\r\n//     .spiral-tower-portals-title h2 {\r\n//         font-size: 1.5rem;\r\n//     }\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n////////////////////// Stuff for editing portals\r\n.floor-gizmo {\r\n    transition: transform 0.3s ease, filter 0.3s ease;\r\n    box-sizing: border-box;\r\n    z-index: 100;\r\n    \r\n    /* Default cursor */\r\n    cursor: pointer;\r\n    \r\n    &.no-pointer {\r\n        cursor: default;\r\n    }\r\n    \r\n    /* Hover effect */\r\n    &:hover {\r\n        transform: translate(-50%, -50%) scale(1.05) !important;\r\n        filter: brightness(1.2);\r\n        z-index: 101;\r\n    }\r\n    \r\n    /* Active effect (being clicked) */\r\n    &:active {\r\n        transform: translate(-50%, -50%) scale(0.95) !important; \r\n    }\r\n    \r\n    /* Basic link styling */\r\n    a {\r\n        text-decoration: none;\r\n        color: inherit;\r\n        display: block;\r\n        width: 100%;\r\n        height: 100%;\r\n        position: relative;\r\n    }\r\n}\r\n\r\n/* Portal Types */\r\n.floor-gizmo {\r\n    /* Text Portal */\r\n    .portal-text {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0, 0, 0, 0.7);\r\n        color: #fff;\r\n        border-radius: 5px;\r\n        font-family: var(--body-font);\r\n        font-size: 0.9rem;\r\n        padding: 5px;\r\n        text-align: center;\r\n        border: 1px solid rgba(255, 255, 255, 0.3);\r\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\r\n    }\r\n    \r\n    /* Door Portal */\r\n    .portal-door {\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: #6b4226;\r\n        border: 3px solid #542700;\r\n        border-radius: 3px 3px 0 0;\r\n        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);\r\n        position: relative;\r\n        \r\n        &::before {\r\n            content: \"\";\r\n            position: absolute;\r\n            top: 50%;\r\n            right: 15%;\r\n            width: 8px;\r\n            height: 8px;\r\n            background-color: #daa520;\r\n            border-radius: 50%;\r\n            transform: translateY(-50%);\r\n            box-shadow: 0 0 5px rgba(218, 165, 32, 0.7);\r\n        }\r\n        \r\n        &::after {\r\n            content: \"\";\r\n            position: absolute;\r\n            top: 10%;\r\n            left: 10%;\r\n            right: 10%;\r\n            bottom: 50%;\r\n            border: 1px solid rgba(0, 0, 0, 0.3);\r\n            border-radius: 2px;\r\n            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n        }\r\n    }\r\n    \r\n    /* Gateway Portal */\r\n    .portal-gateway {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: linear-gradient(to bottom, \r\n                    rgba(173, 216, 230, 0.5),\r\n                    rgba(30, 144, 255, 0.7));\r\n        border: 2px solid rgba(255, 255, 255, 0.8);\r\n        border-radius: 10px 10px 0 0;\r\n        box-shadow: 0 0 15px rgba(30, 144, 255, 0.8);\r\n        position: relative;\r\n        overflow: hidden;\r\n        \r\n        &::before {\r\n            content: \"\";\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background: repeating-linear-gradient(\r\n                45deg,\r\n                rgba(255, 255, 255, 0.1),\r\n                rgba(255, 255, 255, 0.1) 10px,\r\n                rgba(255, 255, 255, 0.2) 10px,\r\n                rgba(255, 255, 255, 0.2) 20px\r\n            );\r\n            animation: gateway-shimmer 3s linear infinite;\r\n        }\r\n    }\r\n    \r\n    /* Vortex Portal */\r\n    .portal-vortex {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: radial-gradient(\r\n            circle,\r\n            rgba(128, 0, 128, 0.9) 0%,\r\n            rgba(75, 0, 130, 0.7) 50%,\r\n            rgba(25, 25, 112, 0.5) 100%\r\n        );\r\n        border-radius: 50%;\r\n        box-shadow: 0 0 20px rgba(128, 0, 128, 0.8);\r\n        position: relative;\r\n        overflow: hidden;\r\n        animation: vortex-rotate 10s linear infinite;\r\n        \r\n        &::before {\r\n            content: \"\";\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background: conic-gradient(\r\n                rgba(255, 255, 255, 0.9),\r\n                rgba(255, 255, 255, 0.1),\r\n                rgba(255, 255, 255, 0.9),\r\n                rgba(255, 255, 255, 0.1),\r\n                rgba(255, 255, 255, 0.9)\r\n            );\r\n            border-radius: 50%;\r\n            opacity: 0.7;\r\n            mix-blend-mode: overlay;\r\n            animation: vortex-shimmer 5s linear infinite reverse;\r\n        }\r\n    }\r\n    \r\n    /* Custom Image Portal */\r\n    .portal-image {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: contain;\r\n        display: block;\r\n    }\r\n    \r\n    /* Invisible Portal */\r\n    &.invisible-portal {\r\n        opacity: 0;\r\n        \r\n        /* Show in edit mode */\r\n        .portal-edit-mode & {\r\n            opacity: 0.5;\r\n            border: 2px dashed rgba(255, 255, 255, 0.8);\r\n            background-color: rgba(0, 0, 0, 0.3);\r\n        }\r\n    }\r\n}\r\n\r\n/* Animations for Portals */\r\n@keyframes vortex-rotate {\r\n    0% {\r\n        transform: translate(-50%, -50%) rotate(0deg);\r\n    }\r\n    100% {\r\n        transform: translate(-50%, -50%) rotate(360deg);\r\n    }\r\n}\r\n\r\n@keyframes vortex-shimmer {\r\n    0% {\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n\r\n@keyframes gateway-shimmer {\r\n    0% {\r\n        background-position: 0 0;\r\n    }\r\n    100% {\r\n        background-position: 100px 100px;\r\n    }\r\n}\r\n\r\n/* Portal Editor Mode Styles */\r\n.portal-edit-mode {\r\n    .floor-gizmo {\r\n        &:hover {\r\n            /* Override default hover to prevent scale when in edit mode */\r\n            transform: translate(-50%, -50%) !important; \r\n        }\r\n        \r\n        &:active {\r\n            /* Override default active to prevent scale when in edit mode */\r\n            transform: translate(-50%, -50%) !important;\r\n        }\r\n        \r\n        /* Disable pointer events on the link inside */\r\n        a {\r\n            pointer-events: none;\r\n        }\r\n        \r\n        /* Add edit mode styling */\r\n        border: 2px dashed rgba(255, 255, 255, 0.5);\r\n        box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);\r\n        \r\n        /* Selected portal styling */\r\n        &.selected-portal {\r\n            border: 2px solid #4CAF50 !important;\r\n            box-shadow: 0 0 15px rgba(76, 175, 80, 0.5) !important;\r\n        }\r\n    }\r\n    \r\n    /* Style for the edit button when active */\r\n    #button-portal-edit.active {\r\n        background-color: rgba(76, 175, 80, 0.5) !important;\r\n    }\r\n}\r\n\r\n/* Resize handles */\r\n.resize-handle {\r\n    position: absolute;\r\n    width: 10px;\r\n    height: 10px;\r\n    background-color: white;\r\n    border: 1px solid black;\r\n    border-radius: 50%;\r\n    pointer-events: all;\r\n    z-index: 100;\r\n    \r\n    &.top-left {\r\n        top: -5px;\r\n        left: -5px;\r\n        cursor: nwse-resize;\r\n    }\r\n    \r\n    &.top-right {\r\n        top: -5px;\r\n        right: -5px;\r\n        cursor: nesw-resize;\r\n    }\r\n    \r\n    &.bottom-left {\r\n        bottom: -5px;\r\n        left: -5px;\r\n        cursor: nesw-resize;\r\n    }\r\n    \r\n    &.bottom-right {\r\n        bottom: -5px;\r\n        right: -5px;\r\n        cursor: nwse-resize;\r\n    }\r\n}\r\n\r\n/* Portal Editor Controls */\r\n.portal-editor-controls {\r\n    position: fixed;\r\n    bottom: 20px;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n    padding: 10px 15px;\r\n    border-radius: 5px;\r\n    z-index: 9999;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    \r\n    .editor-control-buttons {\r\n        display: flex;\r\n        gap: 10px;\r\n    }\r\n    \r\n    .editor-button {\r\n        padding: 8px 15px;\r\n        border: none;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        font-weight: bold;\r\n        transition: background-color 0.2s;\r\n    }\r\n    \r\n    .save-button {\r\n        background-color: #4CAF50;\r\n        color: white;\r\n        \r\n        &:hover {\r\n            background-color: #45a049;\r\n        }\r\n    }\r\n    \r\n    .cancel-button {\r\n        background-color: #f44336;\r\n        color: white;\r\n        \r\n        &:hover {\r\n            background-color: #d32f2f;\r\n        }\r\n    }\r\n}","/* * Elevator CSS Styles\r\n * For the Spiral Tower Elevator\r\n * Last Updated: 2025-04-04 \r\n * Includes background-size adjustments for 2x structural images\r\n * and split animated background using fixed divs.\r\n */\r\n\r\n/* * Define the keyframes for background-position animations\r\n */\r\n @keyframes scrollBackgroundLeft {\r\n    from { background-position: 0 0; }\r\n    to   { background-position: -256px 0; } /* Scroll left */\r\n }\r\n\r\n@keyframes scrollBackgroundRight {\r\n    from { background-position: 0 0; }\r\n    to   { background-position: 256px 0; } /* Scroll right */\r\n }\r\n \r\n/* * Styles for the main body element and nested structure\r\n */\r\nbody.stairs-fullscreen {\r\n\r\n    /* Reset and base styles */\r\n    .stairs-template-active * {\r\n        margin: 0;\r\n        padding: 0;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .stairs-template-active body, \r\n    .stairs-template-active html {\r\n        height: 100%;\r\n        width: 100%;\r\n        margin: 0;\r\n        padding: 0;\r\n        background-color: #333333; /* Base color */\r\n    }\r\n\r\n    /* Container for the three columns */\r\n    .stairs-container {\r\n        display: flex;\r\n        min-height: 100vh; \r\n        width: 1411px; /* Adjust if needed based on original image widths */\r\n        margin: 0 auto;\r\n        position: relative; /* Children positioned relative to this */\r\n    }\r\n\r\n    /* Left column */\r\n    .stairs-left {\r\n        width: 302px; /* Should match original_left_width if image filled it */\r\n        background-image: url('/wp-content/plugins/the-spiral-tower/dist/images/Elevator 02 - tile left.jpg');\r\n        background-repeat: repeat-y;\r\n        /* --- Adjust Size for 2x Image --- */\r\n        /* Replace placeholders with actual 1x dimensions! */\r\n        background-size: 302px 2048px !important; \r\n        box-shadow: -195px 0 1200px 0px rgba(0, 0, 0, 0.7);\r\n        position: relative;\r\n        z-index: 1; \r\n    }\r\n\r\n    /* Center column */\r\n    .stairs-center {\r\n        width: 807px; /* Adjust if needed based on original image widths */\r\n        display: flex;\r\n        flex-direction: column;\r\n        position: relative;\r\n        flex-grow: 1;\r\n    }\r\n\r\n    .stairs-top {\r\n        background-image: url('/wp-content/plugins/the-spiral-tower/dist/images/Elevator 02 - tile top.jpg');\r\n        background-repeat: repeat-x;\r\n        /* --- Adjust Size for 2x Image --- */\r\n        /* Replace placeholders with actual 1x dimensions! */\r\n        background-size: 807px 771px !important; \r\n        height: 771px; /* Should match original_top_height */\r\n        flex-shrink: 0;\r\n    }\r\n\r\n    .stairs-middle {\r\n        background-image: url('/wp-content/plugins/the-spiral-tower/dist/images/Elevator 02 - tile center.jpg');\r\n        background-repeat: repeat-y;\r\n        /* --- Adjust Size for 2x Image --- */\r\n        /* Replace placeholders with actual 1x dimensions! */\r\n        background-size: 807px 386px !important; \r\n        flex-grow: 1;\r\n        position: relative;\r\n        min-height: 386px; /* Example min-height, adjust if needed */\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    .stairs-bottom {\r\n        background-image: url('/wp-content/plugins/the-spiral-tower/dist/images/Elevator 02 - tile bottom.jpg');\r\n        background-repeat: repeat-x;\r\n        /* --- Adjust Size for 2x Image --- */\r\n        /* Replace placeholders with actual 1x dimensions! */\r\n        background-size: 807px 638px !important; \r\n        height: 638px; /* Should match original_bottom_height */\r\n        flex-shrink: 0;\r\n    }\r\n\r\n    /* Right column */\r\n    .stairs-right {\r\n        width: 302px; /* Should match original_right_width if image filled it */\r\n        background-image: url('/wp-content/plugins/the-spiral-tower/dist/images/Elevator 02 - tile right.jpg');\r\n        background-repeat: repeat-y;\r\n         /* --- Adjust Size for 2x Image --- */\r\n         /* Replace placeholders with actual 1x dimensions! */\r\n        background-size: 302px 2048px !important; \r\n        box-shadow: 195px 0 1200px 0px rgba(0, 0, 0, 0.7);\r\n        position: relative;\r\n        z-index: 1; \r\n    }\r\n\r\n    /* Floor list panel */\r\n    .stairs-floor-list {\r\n        width: 100%;\r\n        padding: 20px 0;\r\n        display: flex;\r\n        justify-content: center; \r\n        align-items: center;\r\n        position: relative; \r\n    } \r\n\r\n    .stairs-panel {\r\n        width: 80%;\r\n        max-width: 600px;\r\n        padding: 50px;\r\n        color: #fff;\r\n        margin-left: -15px;\r\n        position: relative; \r\n        margin-top: -400px; /* Your value */\r\n        margin-bottom: -500px; /* Your value */ \r\n        z-index: 2; /* Ensure panel is above columns */     \r\n    }\r\n\r\n    .stairs-panel h2 { \r\n       text-align: center;\r\n       margin-bottom: 20px;\r\n       font-size: 28px;\r\n       color: #f0f0f0;\r\n       text-transform: uppercase;\r\n       letter-spacing: 2px;\r\n    }\r\n\r\n    ul.floor-buttons { \r\n        list-style: none;\r\n        padding: 0;\r\n        margin: 0;\r\n        display: block;\r\n    }\r\n\r\n    .floor-button { \r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        background-color: rgba(0,0,0,0.8);\r\n        border: 2px solid #555;\r\n        border-radius: 5px;\r\n        padding: 10px;\r\n        text-decoration: none;\r\n        color: #fff;\r\n        transition: all 0.3s ease;\r\n        text-align: center;\r\n        height: 100%;\r\n        margin: 20px;\r\n    }\r\n\r\n    .floor-button:hover { \r\n        background-color: rgba(10,10,10,0.8);\r\n        border-color: #888;\r\n        transform: scale(1.05);\r\n    }\r\n\r\n    .floor-number { \r\n        font-size: 24px;\r\n        font-weight: bold;\r\n        margin-bottom: 5px;\r\n        color: #f0f0f0;\r\n    }\r\n\r\n    .floor-title { \r\n        font-size: 14px;\r\n        color: #ccc;\r\n        max-width: 100%;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n    }\r\n    /* --- End of nested rules --- */\r\n} /* --- End of body.stairs-fullscreen rules --- */\r\n\r\n\r\n/* * Styles for the fixed background divs (using the 1x animated tile)\r\n */\r\n.fixed-background {\r\n    position: fixed;\r\n    top: 0;\r\n    height: 100vh; /* Cover full viewport height */\r\n    z-index: -1;  /* Sit behind all other content */\r\n\r\n    /* Common background properties */\r\n    background-image: url('/wp-content/plugins/the-spiral-tower/dist/images/Elevator 02 - bg tile.jpg') !important;\r\n    background-size: 256px 256px !important; \r\n    background-repeat: repeat !important; \r\n    background-position: 0 0; /* Base position (NO !important) */\r\n}\r\n\r\n/* Left half styles */\r\n.fixed-background.left-half {\r\n    left: 0;\r\n    width: 50%; /* Cover left 50% of viewport */\r\n    animation: scrollBackgroundRight 10s linear infinite !important; /* Scroll RIGHT */\r\n}\r\n\r\n/* Right half styles */\r\n.fixed-background.right-half {\r\n    right: 0; /* Align to the right edge */\r\n    width: 50%; /* Cover right 50% of viewport */\r\n    animation: scrollBackgroundLeft 10s linear infinite !important; /* Scroll LEFT */\r\n}"],"names":[],"sourceRoot":""}